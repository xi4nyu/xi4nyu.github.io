---
title: Go 语言：项目管理与包管理
tags:
  - go
categories: go
date: 2023-04-13 20:45:00
---


### Go 包管理

Go 包管理有过有几次演进

1. Go 1.4 版本删除 pkg 这一中间层目录并引入`internal`目录，用于存放内部包。
2. Go 1.6 版本引入了`vendor`目录，用于存放依赖包。
3. Go 1.11 版本引入了`go.mod` 和 `go.sum` 文件，用于管理依赖包。

之后为了解决包管理的问题，Go 团队引入了Go Module 构建机制，也就是在项目引入go.mod以及在go.mod中明确项目所依赖的第三方包和版本，项目的构建就将摆脱`GOPATH`的束缚，实现精准的可重现构建。

`go.mod`文件的内容如下：
```go
module github.com/yourusername/yourproject
go 1.16
require (
    github.com/gin-gonic/gin v1.8.1
    github.com/go-sql-driver/mysql v1.6.0
)
```

### 项目结构
目前Go可执行项目的典型结构布局如下：
```tree -F project
project
├── cmd/
│   ├── app1/
│   │   └── main.go
│   └── app2/
│       └── main.go
├── go.mod
├── internal/
│   ├── pkga/
│   │   └── pkg_a.go
│   └── pkgb/
│       └── pkg_b.go
├── pkg1/
│   └── pkg1.go
└── pkg2/
    └── pkg2.go

```
