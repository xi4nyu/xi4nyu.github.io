---
title: Go 语言：Go 的执行
tags:
  - go
categories: go
date: 2023-04-14 22:10:00
---


### Go 应用的入口函数

在 Go 语言中，程序的入口函数是 `main`，它是执行的起点，对应 `main.main`。其基本定义如下：

```go
func main() {
    // 程序逻辑
}
```

此外，Go 还提供了一个特殊的 `init` 函数，它在 `main` 之前自动执行，通常用于包的初始化。例如：

```go
func init() {
    // 初始化代码
}
```

### Go 包的初始化顺序

Go 语言的包初始化遵循以下规则：

1. **按依赖关系深度优先初始化**：先初始化被依赖的包，再初始化当前包。
2. **包内初始化顺序**：
   - 先初始化 **常量**（`const`）。
   - 再初始化 **变量**（`var`）。
   - 最后执行 **init 函数**。
3. **多个 `init` 函数的执行顺序**：同一包内，`init` 函数按照它们在代码中出现的顺序依次执行。

### 补充说明

- **`init` 不能有参数和返回值**，且同一包内可以定义多个 `init` 函数。
- **`main` 函数是程序的真正入口**，且必须位于 `main` 包中，否则无法运行。

